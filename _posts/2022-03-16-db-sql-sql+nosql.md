---
layout: single
title: "SQL,NOSQL에 관하여"
categories: db
permalink: sqlandnosql/chapter01
toc: true
author_profile: true
sidebar_main: true
---

# SQL이란?

## SQL의 정의

SQL은 Structured Query Language의 약자로 관계형 데이터베이스 시스템(RDBMS)에서
데이터를 관리 및 처리하기 위한 설계 언어입니다.

## SQL기반 대표적 데이터베이스

    - MySQL
    - mariaDB
    - MSSQL
    - Oracle

## SQL 문법

    - DDL(Data Definition Language)
      객체의 생성(create), 변경(alter), 삭제(drop)등을 하는 문법입니다.
    - DML(Data Manipulation Language)
      레코드를 조작하는 문법으로써 select,insert,update,delete등이 있습니다.
    - DCL(Data Control Language)
      객체에 대한 어떠한 것을 제어하는 문법이며 commit,rollback,grant,revoke등이 있습니다.

## SQL의 언어적 특징

1. 대소문자를 구분하지 않습니다. 조건절의 레코드값에 대해서는 대소문자를 구분합니다.
2. 명령어의 끝에는 반드시 세미콜론(;)이 있어야 됩니다.
3. 레코드값은 따옴표('')로 표현해야 됩니다.<br>
   `select * from emp where emp_name='SMITH'`
4. 한줄 주석은 -- 여러줄은 /\* \*/으로 표현이 가능합니다.

## SQL의 장점

- 명확하게 정의 된 스키마로 인해 데이터 무결성을 보장합니다.
- 관계를 통해 각 데이터를 중복없이 한 번만 저장할 수 있습니다.

## SQL의 단점

- 스키마로 인해 상대적으로 덜 유연하며 데이터 스키마는 미리 알고 계획해야됩니다.
- 여러 테이블들에서의 중복되고 각각의 테이블의 속성에 대한 레코드값을 알고 싶을 때 쿼리문이 복잡하고 길어질 수 있습니다.
- 수평 확장이 어려워서 성장 한계가 옵니다.

# NOSQL이란?

## NOSQL의 정의

비관계형 데이터베이스 유형을 나타내며, 이러한 데이터베이스는 관계형 테이블과 다른 형식으로 데이터를 저장합니다. 그러나 NOSQL 데이터베이스는 API,선언적 구조화 쿼리 언어(SQL),쿼리별 예약어를 사용하여 쿼리할 수 있으므로 'Not Only SQL'데이터베이스라고도 합니다.

## NOSQL 데이터베이스의 종류

    - key-value DB
    - wide columnarDB
    - documentDB
    - graphDB

## NOSQL 문법

```
Create : db.createCollection('컬렉션이름emp')
Insert : db.emp.Insert({컬럼:레코드값})
select : db.emp.find({조건},{컬럼:레코드값})
update : db.emp.updateMany({조건},{$set:{컬럼:레코드값}})
        +)db.emp.updateOne({조건},{$set:{컬럼:레코드값}})
        +) $inc : 해당 컬럼의 레코드값에서 + 해줌
delete : db.emp.deleteMany({조건})
```

## NOSQL 특징

NOSQL데이터베이스에서는 스키마를 미리 정의하지 않고도 데이터를 저장할 수 있습니다. 즉, 이동하면서 빠르게 반복하여 이동하면서 데이터 모델을 정의할 수 있습니다.따라서 그래프 기반, 열 중심,문서 중심 또는 키-값 스토리지 같은 특정 비지니스 요구 사항에 적합할 수 있습니다.

1. 관계형 모델을 사용하지 않으며 테이블 간 연결해서 조회할 수 있는 조인 기능이 없습니다
2. 데이터 조회를 위해 직접 프로그래밍하는 등의 비 SQL인터페이스를 통한 데이터 접근합니다
3. 대부분 여러 데이터베이스 서버를 묶어서 하나의 데이터베이스를 구성합니다
4. 데이터 처리 완결성(Transaction,ACID)이 보장되지 않습니다
5. 데이터의 스키마와 속성들을 다양하게 수용하고 동적으로 정의합니다
6. 데이터베이스의 중단없는 서비스와 자동 복구 기능 지원합니다
7. 대부분의 제품이 확장성, 가용성, 성능이 높은 특징을 가집니다

## NOSQL 장점

- 스키마가 없어서 유연하고 항상 데이터를 추가할 수 있습니다
- 어떤 형식으로도 데이터를 저장할 수 있어서 저장해서 읽어오는 속도가 빨라집니다.
- 수직적 확장성과 수평적 확장성이 모두 좋아서 데이터베이스가 모든 읽기와 쓰기 요청을 처리할 수 있습니다.

## NOSQL 단점

- 수정 시 모든 컬렉션에서 다 수정해줘야 됩니다.
- 필요한 컬렉션마다 데이터를 중복되게 저장 할 수 있으며 돌면서 여러개의 레코드를 다 업데이트해줘야 합니다.

# SQL과 NOSQL의 차이점

1. 수평적 확장성과 수직적 확장성의 차이입니다.
   - SQL은 수평적 확장성이 어려움으로 한계가 있고 NOSQL은 그렇지 않다는 것이 차이

```
- 수평적 확장성 : 서버를 추가해서 데이터베이스를 전체적으로 분산시키는 것을 의미
- 하나의 데이터베이스를 여러 호스트에서 작동시킬 수 있음
- 수직적 확장성 : CPU,RAM,SSD등과 같은 부품 혹은 하드웨어를 추가해주고나 교체를 해서 전체적인 성능을 확장시키는 것을 의미
- 소프트웨어의 설계나 구조에 변화를 주거나 시간을 따로 쏟을 필요가 없음
```

2. 쿼리언어의 여부
   - NOSQL은 쿼리언어가 없습니다. 조인을 이용해서 데이터를 가져와야 될 경우 SQL이 용이합니다
3. 스키마의 자유도
   - SQL은 이미 짜여진 명세서대로 해야되기 때문에 스키마가 강한 반면에 NOSQL은 이미 저장된 데이터에서 자유롭게 변경 혹은 추가가 가능합니다.
   - SQL은 인덱스를 활용해서 검색속도를 높일 수 있습니다. NOSQL은 최대한 key를 활용하여 조회를 해야 됩니다.
   - SQL은 트렌젝션을 활용해서 깔끔한 프로세서로 작동을 할 수 있습니다.
4. 계층적 데이터
   - NOSQL은 json형태로 데이터에 대해 계층적으로 저장이 가능합니다
5. 쿼리 이용도
   - SQL은 복잡한 쿼리사용에 용이하지만 NOSQL은 그렇지 않습니다.
6. 용어

   | SQL      |      NOSQL      |
   | :------- | :-------------: |
   | database |    database     |
   | tables   |   collection    |
   | rows     | documents(BSON) |
   | columns  |     fields      |
